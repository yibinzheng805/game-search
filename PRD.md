# 产品需求文档 (PRD) - 游戏军师 (Game Strategist) H5

## 1. 项目背景
用户希望通过分析一款游戏的截图内容，快速了解该游戏的类型、玩法、界面信息与市场定位，从而做出体验或对标判断。

## 2. 产品目标
开发一个 **单页面 H5 应用**，用户上传一款游戏的 5 张以上截图，系统利用 AI 视觉识别和深度推理模型，生成一份详细的**“游戏分析报告”**，包含基本信息、界面信号、玩法特征与市场相似游戏。

## 3. 用户流程 (User Flow)
本产品采用**单页面**设计，所有交互在同一个滚动页面内完成，减少跳转流失。

1.  **首屏区域 (Hero Section)**：
    *   展示产品 Value（“上传截图，AI 帮你读懂游戏”）。
    *   **隐私声明**：显眼的勾选框或弹窗，确认用户已获授权且仅用于游戏分析。
2.  **操作区域 (Action Area)**：
    *   **上传组件**：支持批量上传图片（限制 5-9 张）。
    *   **预览与编辑**：上传后显示缩略图，支持点击删除。
    *   **行动按钮**：点击“生成游戏分析”开始分析。
3.  **分析状态 (In-Page Loading)**：
    *   点击按钮后，按钮状态变为 Loading，下方展示动态文字轮播（“正在识别界面元素...”、“正在解析玩法信息...”、“正在生成市场对比...”）。
4.  **结果展示区域 (Result Section)**：
    *   分析完成后，在下方平滑展开详细报告。
    *   **核心内容**：基本信息、界面信号、玩法特征、商业化线索、原型与相似游戏。
    *   **底部操作**：支持“保存长图”或“重新分析”。

## 4. 功能需求

### 4.1 前端功能 (H5)
| 模块 | 功能点 | 说明 |
| :--- | :--- | :--- |
| **单页交互** | 锚点导航 | 点击开始分析后，自动滚动到结果区域。 |
| **图片上传** | 批量选择 | 支持 JPG/PNG，单次最多 9 张。 |
| | 预览与删除 | 用户可在提交前预览或删除选错的图片。 |
| **交互反馈** | 真实感 Loading | 模拟 AI 思考过程的文案轮播，增加可信度。 |
| **结果展示** | Markdown 渲染 | 结构化展示 AI 生成的游戏分析报告。 |

### 4.2 后端功能 (Server)
| 模块 | 功能点 | 说明 |
| :--- | :--- | :--- |
| **图片处理** | 接收与暂存 | 接收前端上传的图片流，暂存至内存或临时存储。 |
| **AI 流水线** | **Step 1: 视觉解析** | 调用视觉模型。提取每张图的 OCR 文字、界面元素与玩法线索。 |
| | **Step 2: 深度推理** | 调用推理模型。输入 Step 1 的汇总信息，输出结构化游戏分析。 |
| **数据安全** | 自动清理 | 任务完成后立即删除用户上传的截图，不留存隐私数据。 |

## 5. AI 策略与 Prompt 设计

### 5.1 视觉解析层 (Vision Model)
*   **输入**：单张游戏截图
*   **任务**：提取关键信息
*   **Prompt 示例**：
    > “请详细描述这张游戏截图的内容。提取其中的文字（OCR）、识别界面元素（按钮、菜单、数值、角色、任务、地图、战斗/经营等）、判断游戏类型与核心玩法线索、推测平台（手游/PC/主机）、画面风格与视角。如果出现关卡/活动/付费信息，请明确指出。”

### 5.2 深度推理层 (Thinking Model)
*   **输入**：5 张截图的综合描述文本
*   **System Prompt 核心逻辑**：
    > **你是资深游戏分析师和产品研究员，擅长通过截图判断游戏类型、玩法机制、目标用户与市场定位，并能给出结构化结论。**
    >
    > 你的任务是根据用户提供的游戏截图信息（由视觉模型提取），输出该游戏的多维度分析结论。
    >
    > **分析维度**：
    > 1. **基本信息**：可能的游戏类型、题材/世界观、平台（手游/PC/主机）、玩法核心循环。
    > 2. **界面信号**：UI 结构、关键按钮/数值、任务/关卡/货币/活动提示带来的设计意图。
    > 3. **体验判断**：节奏、难度、PVE/PVP、社交/公会、养成/收集等特征。
    > 4. **商业化线索**：内购、礼包、体力/抽卡/订阅等可能出现的付费点。
    > 5. **市场对标**：推测原型游戏，并给出 3-5 款市场相似游戏与相似点。
    >
    > **输出要求**：
    > 1.  **结构清晰**：用小标题或列表呈现。
    > 2.  **结论具体**：尽量引用截图中的可见信息。
    > 3.  **语气风格**：专业、简洁、可落地。

## 6. 技术栈推荐
*   **前端**：Vue 3 + Vant UI (移动端适配好，单页体验佳)
*   **后端**：Node.js (Koa/Express) 或 Python (FastAPI)
*   **模型服务**：火山引擎 (Volcengine) Ark 平台

## 7. 非功能需求
*   **隐私合规**：必须在首屏显著位置放置《隐私协议》勾选框。
*   **响应速度**：设置 60s+ 超时处理，前端需有生动的等待动效。
*   **并发控制**：限制单 IP 每日请求次数。

## 8. 待确认事项
*   [ ] 确认火山引擎账号权限。
